{"version":3,"names":["resolve","value","console","log","nativeEmitter","addListener","undefined","addScreenShareRemoteIceCandidate","instanceId","remoteCandidateJson","Promise","res","rej","nativeAddScreenShareRemoteIceCandidate","e"],"sources":["addScreenShareRemoteIceCandidate.tsx"],"sourcesContent":["import { addScreenShareRemoteIceCandidate as nativeAddScreenShareRemoteIceCandidate } from '../native-components/BBBN_ScreenShareService';\nimport nativeEmitter from '../native-messaging/emitter';\n\n// Reference to the resolver of last call\nlet resolve = (value: unknown) => {\n  console.log(\n    `default resolve function called, this should never happen: ${value}`\n  );\n};\n\n// Resolve promise when SDP offer is available\nnativeEmitter.addListener('onAddScreenShareRemoteIceCandidateCompleted', () => {\n  resolve(undefined);\n});\n\n// Entry point of this method\nfunction addScreenShareRemoteIceCandidate(\n  instanceId: Number,\n  remoteCandidateJson: string\n) {\n  return new Promise((res, rej) => {\n    // store the resolver for later call (when event is received)\n    resolve = res;\n\n    try {\n      console.log(\n        `[${instanceId}] - >nativeAddScreenShareRemoteIceCandidate ${remoteCandidateJson}`\n      );\n      // call native swift method that triggers the broadcast popup\n      nativeAddScreenShareRemoteIceCandidate(remoteCandidateJson);\n    } catch (e) {\n      rej(`Call to nativeAddScreenShareRemoteIceCandidate failed`);\n    }\n  });\n}\n\nexport default addScreenShareRemoteIceCandidate;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA,IAAIA,OAAO,GAAIC,KAAD,IAAoB;EAChCC,OAAO,CAACC,GAAR,CACG,8DAA6DF,KAAM,EADtE;AAGD,CAJD,C,CAMA;;;AACAG,gBAAA,CAAcC,WAAd,CAA0B,6CAA1B,EAAyE,MAAM;EAC7EL,OAAO,CAACM,SAAD,CAAP;AACD,CAFD,E,CAIA;;;AACA,SAASC,gCAAT,CACEC,UADF,EAEEC,mBAFF,EAGE;EACA,OAAO,IAAIC,OAAJ,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAc;IAC/B;IACAZ,OAAO,GAAGW,GAAV;;IAEA,IAAI;MACFT,OAAO,CAACC,GAAR,CACG,IAAGK,UAAW,+CAA8CC,mBAAoB,EADnF,EADE,CAIF;;MACA,IAAAI,yDAAA,EAAuCJ,mBAAvC;IACD,CAND,CAME,OAAOK,CAAP,EAAU;MACVF,GAAG,CAAE,uDAAF,CAAH;IACD;EACF,CAbM,CAAP;AAcD;;eAEcL,gC"}