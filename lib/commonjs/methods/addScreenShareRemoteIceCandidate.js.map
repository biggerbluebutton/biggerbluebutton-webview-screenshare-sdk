{"version":3,"names":["_BBBN_ScreenShareService","require","_emitter","_interopRequireDefault","e","__esModule","default","resolve","value","console","log","nativeEmitter","addListener","undefined","addScreenShareRemoteIceCandidate","instanceId","remoteCandidateJson","Promise","res","rej","nativeAddScreenShareRemoteIceCandidate","_default","exports"],"sources":["addScreenShareRemoteIceCandidate.tsx"],"sourcesContent":["import { addScreenShareRemoteIceCandidate as nativeAddScreenShareRemoteIceCandidate } from '../native-components/BBBN_ScreenShareService';\nimport nativeEmitter from '../native-messaging/emitter';\n\n// Reference to the resolver of last call\nlet resolve = (value: unknown) => {\n  console.log(\n    `default resolve function called, this should never happen: ${value}`\n  );\n};\n\n// Resolve promise when SDP offer is available\nnativeEmitter.addListener('onAddScreenShareRemoteIceCandidateCompleted', () => {\n  resolve(undefined);\n});\n\n// Entry point of this method\nfunction addScreenShareRemoteIceCandidate(\n  instanceId: Number,\n  remoteCandidateJson: string\n) {\n  return new Promise((res, rej) => {\n    // store the resolver for later call (when event is received)\n    resolve = res;\n\n    try {\n      console.log(\n        `[${instanceId}] - >nativeAddScreenShareRemoteIceCandidate ${remoteCandidateJson}`\n      );\n      // call native swift method that triggers the broadcast popup\n      nativeAddScreenShareRemoteIceCandidate(remoteCandidateJson);\n    } catch (e) {\n      rej(`Call to nativeAddScreenShareRemoteIceCandidate failed`);\n    }\n  });\n}\n\nexport default addScreenShareRemoteIceCandidate;\n"],"mappings":";;;;;;AAAA,IAAAA,wBAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AAAwD,SAAAE,uBAAAC,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAExD;AACA,IAAIG,OAAO,GAAIC,KAAc,IAAK;EAChCC,OAAO,CAACC,GAAG,CACT,8DAA8DF,KAAK,EACrE,CAAC;AACH,CAAC;;AAED;AACAG,gBAAa,CAACC,WAAW,CAAC,6CAA6C,EAAE,MAAM;EAC7EL,OAAO,CAACM,SAAS,CAAC;AACpB,CAAC,CAAC;;AAEF;AACA,SAASC,gCAAgCA,CACvCC,UAAkB,EAClBC,mBAA2B,EAC3B;EACA,OAAO,IAAIC,OAAO,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC/B;IACAZ,OAAO,GAAGW,GAAG;IAEb,IAAI;MACFT,OAAO,CAACC,GAAG,CACT,IAAIK,UAAU,+CAA+CC,mBAAmB,EAClF,CAAC;MACD;MACA,IAAAI,yDAAsC,EAACJ,mBAAmB,CAAC;IAC7D,CAAC,CAAC,OAAOZ,CAAC,EAAE;MACVe,GAAG,CAAC,uDAAuD,CAAC;IAC9D;EACF,CAAC,CAAC;AACJ;AAAC,IAAAE,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEcQ,gCAAgC","ignoreList":[]}