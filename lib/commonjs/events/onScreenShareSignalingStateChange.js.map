{"version":3,"names":["setupListener","_webViewRef","nativeEmitter","addListener","newState","console","log","current","injectJavaScript","JSON","stringify"],"sources":["onScreenShareSignalingStateChange.tsx"],"sourcesContent":["import type { MutableRefObject } from 'react';\nimport type { EmitterSubscription } from 'react-native';\nimport nativeEmitter from '../native-messaging/emitter';\n\nexport function setupListener(\n  _webViewRef: MutableRefObject<any>\n): EmitterSubscription {\n  // Resolve promise when SDP offer is available\n  return nativeEmitter.addListener(\n    'onScreenShareSignalingStateChange',\n    (newState) => {\n      console.log(`Temos um novo state: ${newState}`);\n      _webViewRef.current.injectJavaScript(\n        `window.bbbMobileScreenShareSignalingStateChangeCallback && window.bbbMobileScreenShareSignalingStateChangeCallback(${JSON.stringify(\n          newState\n        )});`\n      );\n    }\n  );\n}\n"],"mappings":";;;;;;;AAEA;;;;AAEO,SAASA,aAAT,CACLC,WADK,EAEgB;EACrB;EACA,OAAOC,gBAAA,CAAcC,WAAd,CACL,mCADK,EAEJC,QAAD,IAAc;IACZC,OAAO,CAACC,GAAR,CAAa,wBAAuBF,QAAS,EAA7C;;IACAH,WAAW,CAACM,OAAZ,CAAoBC,gBAApB,CACG,sHAAqHC,IAAI,CAACC,SAAL,CACpHN,QADoH,CAEpH,IAHJ;EAKD,CATI,CAAP;AAWD"}