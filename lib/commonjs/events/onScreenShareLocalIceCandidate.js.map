{"version":3,"names":["_emitter","_interopRequireDefault","require","e","__esModule","default","setupListener","_webViewRef","nativeEmitter","addListener","jsonEncodedIceCandidate","iceCandidate","JSON","parse","event","candidate","current","injectJavaScript","stringify"],"sources":["onScreenShareLocalIceCandidate.tsx"],"sourcesContent":["import type { MutableRefObject } from 'react';\nimport type { EmitterSubscription } from 'react-native';\nimport nativeEmitter from '../native-messaging/emitter';\n\nexport function setupListener(\n  _webViewRef: MutableRefObject<any>\n): EmitterSubscription {\n  // Resolve promise when SDP offer is available\n  return nativeEmitter.addListener(\n    'onScreenShareLocalIceCandidate',\n    (jsonEncodedIceCandidate) => {\n      let iceCandidate = JSON.parse(jsonEncodedIceCandidate);\n      if (typeof iceCandidate === 'string') {\n        iceCandidate = JSON.parse(iceCandidate);\n      }\n      const event = { candidate: iceCandidate };\n      _webViewRef.current.injectJavaScript(\n        `window.bbbMobileScreenShareIceCandidateCallback && window.bbbMobileScreenShareIceCandidateCallback(${JSON.stringify(\n          event\n        )});`\n      );\n    }\n  );\n}\n"],"mappings":";;;;;;AAEA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAwD,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEjD,SAASG,aAAaA,CAC3BC,WAAkC,EACb;EACrB;EACA,OAAOC,gBAAa,CAACC,WAAW,CAC9B,gCAAgC,EAC/BC,uBAAuB,IAAK;IAC3B,IAAIC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACH,uBAAuB,CAAC;IACtD,IAAI,OAAOC,YAAY,KAAK,QAAQ,EAAE;MACpCA,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACF,YAAY,CAAC;IACzC;IACA,MAAMG,KAAK,GAAG;MAAEC,SAAS,EAAEJ;IAAa,CAAC;IACzCJ,WAAW,CAACS,OAAO,CAACC,gBAAgB,CAClC,sGAAsGL,IAAI,CAACM,SAAS,CAClHJ,KACF,CAAC,IACH,CAAC;EACH,CACF,CAAC;AACH","ignoreList":[]}