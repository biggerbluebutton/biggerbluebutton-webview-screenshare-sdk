{"version":3,"names":["nativeEmitter","setupListener","_webViewRef","addListener","jsonEncodedIceCandidate","iceCandidate","JSON","parse","event","candidate","current","injectJavaScript","stringify"],"sources":["onScreenShareLocalIceCandidate.tsx"],"sourcesContent":["import type { MutableRefObject } from 'react';\nimport type { EmitterSubscription } from 'react-native';\nimport nativeEmitter from '../native-messaging/emitter';\n\nexport function setupListener(\n  _webViewRef: MutableRefObject<any>\n): EmitterSubscription {\n  // Resolve promise when SDP offer is available\n  return nativeEmitter.addListener(\n    'onScreenShareLocalIceCandidate',\n    (jsonEncodedIceCandidate) => {\n      let iceCandidate = JSON.parse(jsonEncodedIceCandidate);\n      if (typeof iceCandidate === 'string') {\n        iceCandidate = JSON.parse(iceCandidate);\n      }\n      const event = { candidate: iceCandidate };\n      _webViewRef.current.injectJavaScript(\n        `window.bbbMobileScreenShareIceCandidateCallback && window.bbbMobileScreenShareIceCandidateCallback(${JSON.stringify(\n          event\n        )});`\n      );\n    }\n  );\n}\n"],"mappings":"AAEA,OAAOA,aAAa,MAAM,6BAA6B;AAEvD,OAAO,SAASC,aAAaA,CAC3BC,WAAkC,EACb;EACrB;EACA,OAAOF,aAAa,CAACG,WAAW,CAC9B,gCAAgC,EAC/BC,uBAAuB,IAAK;IAC3B,IAAIC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACH,uBAAuB,CAAC;IACtD,IAAI,OAAOC,YAAY,KAAK,QAAQ,EAAE;MACpCA,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACF,YAAY,CAAC;IACzC;IACA,MAAMG,KAAK,GAAG;MAAEC,SAAS,EAAEJ;IAAa,CAAC;IACzCH,WAAW,CAACQ,OAAO,CAACC,gBAAgB,CAClC,sGAAsGL,IAAI,CAACM,SAAS,CAClHJ,KACF,CAAC,IACH,CAAC;EACH,CACF,CAAC;AACH","ignoreList":[]}