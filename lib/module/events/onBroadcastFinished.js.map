{"version":3,"names":["nativeEmitter","setupListener","_webViewRef","addListener","console","log","current","injectJavaScript"],"sources":["onBroadcastFinished.tsx"],"sourcesContent":["import type { MutableRefObject } from 'react';\nimport type { EmitterSubscription } from 'react-native';\nimport nativeEmitter from '../native-messaging/emitter';\n\nexport function setupListener(\n  _webViewRef: MutableRefObject<any>\n): EmitterSubscription {\n  // Resolve promise when SDP offer is available\n  return nativeEmitter.addListener('onBroadcastFinished', () => {\n    console.log(`Broadcast finished`);\n    _webViewRef.current.injectJavaScript(\n      `window.bbbMobileScreenShareBroadcastFinishedCallback && window.bbbMobileScreenShareBroadcastFinishedCallback();`\n    );\n  });\n}\n"],"mappings":"AAEA,OAAOA,aAAP,MAA0B,6BAA1B;AAEA,OAAO,SAASC,aAAT,CACLC,WADK,EAEgB;EACrB;EACA,OAAOF,aAAa,CAACG,WAAd,CAA0B,qBAA1B,EAAiD,MAAM;IAC5DC,OAAO,CAACC,GAAR,CAAa,oBAAb;;IACAH,WAAW,CAACI,OAAZ,CAAoBC,gBAApB,CACG,iHADH;EAGD,CALM,CAAP;AAMD"}